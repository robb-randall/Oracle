-- Package METADATA extracts remote DDL through database links using DBMS_METADATA

-- Usage:
SELECT
  METADATA.GET_OBJECT_DDL('TEST_DB_LINK', OBJECT_TYPE, USER, OBJECT_NAME) OBJECT_DDL
FROM USER_OBJECTS@TEST_DB_LINK;

SELECT
  METADATA.GET_TABLESPACE_DDL('TEST_DB_LINK', TABLESPACE_NAME) TABLESPACE_DDL
FROM DBA_TABLESPACES@TEST_DB_LINK;

SELECT
  METADATA.GET_USER_DDL('TEST_DB_LINK', USERNAME) USER_DDL
FROM DBA_USERS@TEST_DB_LINK;

